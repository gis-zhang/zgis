<html>
<head>
	<title>地图api测试示例-建筑模型-3dmax</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="../src/lib/leaflet-0.7.3/leaflet.css" />
	<link rel="stylesheet" href="../dist/zmap.css" />
	<!--<link rel="stylesheet" href="../src/cdc/css/MapView.css" />-->

	<!--<script src="../src/lib/leaflet-0.7.3/leaflet-src.js"></script>-->
	<!--<script src="../src/lib/threejs_new/three.js"></script>-->
	<!--<script src="../src/lib/threejs/ConvexGeometry.js"></script>-->
	<!--<script src="../src/lib/threebsp/ThreeBSP.js"></script>-->
	<script src="../src/lib/stats.min.js"></script>

	<!--<script src="../src/lib/threejs-ext/loaders/DDSLoader.js"></script>-->
	<!--<script src="../src/lib/threejs-ext/loaders/MTLLoader.js"></script>-->
	<!--<script src="../src/lib/threejs-ext/loaders/OBJLoader.js"></script>-->

	<!--<script src="../dist/zmap-release.js"></script>-->
	<script src="../dist/zmap_all_in_one.js"></script>
	<!--<script src="../dist/mapview-release.js"></script>-->
	<script src="data/indoordata_wkt1.json"></script>
	<script src="data/rfidpath.js"></script>
	<script>
		var rotateX = 0, rotateY = 0; rotateZ = 0, map = null, cdcView = null, sunH = 30, sunV = 45;

		function load(){
////			map = new ZMap('map', {sceneType: '3D', center:{x:118.9038, y:32.1181}, initZoom: 18, maxZoom: 25});   //32.1181, 118.9038, 0
//			map = new ZMap('map', {sceneType: '3D', center:{x:114.264451, y:30.582994}, initZoom: 18, maxZoom: 25});   //32.1181, 118.9038, 0
//			map.rotateByEuler({x: 70, y:0, z:0});
//			//document.onkeydown = doKeyDown;
			map = new MapView('map', {resourceLibPath: 'src/cdc/image/'});
			cdcView = new CDCBusinessView(map, {images:{detailArrow: '../src/cdc/image/yuanjiantouxiao_white.png'}});

			var iconCfg = {
				plus: '../src/cdc/image/fangda.png',
				minus: '../src/cdc/image/suoxiao.png',
				turnleft: '../src/cdc/image/zuozhuan.png',
				turnright: '../src/cdc/image/youzhuan.png',
				up: '../src/cdc/image/shangyi.png',
				down: '../src/cdc/image/xiayi.png',
				fullmap: '../src/cdc/image/quanpin.png'
			};

			map.setToolBarIcons(iconCfg);
		}

		function refresh(){
			map.rotateByEuler({x: rotateX, y:rotateY, z:rotateZ});
		}

		function x_add(){
			//rotateX += 5;
			rotateX = 2;
			rotateY = 0;
			rotateZ = 0;
			refresh();
		}

		function x_sub(){
//			rotateX -= 5;
			rotateX = -2;
			rotateY = 0;
			rotateZ = 0;
			refresh();
		}

		function y_add(){
//			rotateY += 5;
			rotateY = 5;
			rotateX = 0;
			rotateZ = 0;
			refresh();
		}

		function y_sub(){
//			rotateY -= 5;
			rotateY = -5;
			rotateX = 0;
			rotateZ = 0;
			refresh();
		}

		function z_add(){
			//rotateZ += 5;
			rotateZ = 5;
			rotateY = 0;
			rotateX = 0;
			refresh();
		}

		function z_sub(){
			//rotateZ -= 5;
			rotateZ = -5;
			rotateY = 0;
			rotateX = 0;
			refresh();
		}

		function reset(){
			map._map._scene._sceneRender.resetCamera();
			map._map._scene._sceneRender.render();
		}

		function zoomIn(){
			map.zoomIn();
		}

		function zoomOut(){
			map.zoomOut();
		}

		var added = false;
		var layer1 = new Z.TDTVectorLayer();
		var layer2 = new Z.TDTVectorAnnoLayer();
		var layer3 = new Z.TDTRasterLayer();
		var layer4 = new Z.TDTRasterAnnoLayer();

		function addVectorLayer(){
			//map.addLayer(layer1, 0);
			//map._map.addLayer(layer1, 0);
//			map.addLayer(layer1, 0, Z.LayerGroup.BaseBgLayer);
		}
		function addVectorAnnoLayer(){
			map.addLayer(layer2, 1);
		}
		function addRasterLayer(){
			//map.addLayer(layer3, 0, Z.LayerGroup.BaseOverLayer);
			map.addLayer(layer3, 2, Z.LayerGroup.BaseBgLayer);
		}
		function addRasterAnnoLayer(){
			map.addLayer(layer4, 3, Z.LayerGroup.BaseBgLayer);
			//map.addLayer(layer4, 1, Z.LayerGroup.BaseOverLayer);
			//map.addLayer(layer2, 3, Z.LayerGroup.BaseOverLayer);
		}
		function removeVectorLayer(){
			map.removeLayer(layer1);
		}
		function removeVectorAnnoLayer(){
			map.removeLayer(layer2);
		}
		function removeRasterLayer(){
			map.removeLayer(layer3);
		}
		function removeRasterAnnoLayer(){
			map.removeLayer(layer4);
		}

		function showInner(){
			map.hideBuilding("Rectangle04");
			map.hideBuilding("Rectangle05");
			map.setBuildingMode("Rectangle03", BuildingMode.INNER);
		}

		function showHull(){
			map.showBuilding("Rectangle04");
			map.showBuilding("Rectangle05");
			map.setBuildingMode("Rectangle03", BuildingMode.HULL);
		}

		function selectBuilding1(){
			map.selectBuilding("Rectangle03");
		}

		function selectBuilding2(){
			map.selectBuilding("Rectangle04");
		}

//		function createImgButton(imgUrl, onclick){
//			var aNode = document.createElement("a");
//			aNode.href = "#";
//			var imgNode = document.createElement("img");
//			imgNode.src = imgUrl;
//			imgNode.style.height = "18px";
//			imgNode.style.width = "18px";
//			imgNode.style.paddingLeft = "10px";
//			imgNode.style.paddingRight = "10px";
//			aNode.appendChild(imgNode);
//
//			if(typeof onclick === "function"){
//				aNode.onclick = onclick;
//			}
//
//			return aNode;
//		}
//
//		function createBuildingTitleContent(map, buildingName, eventCount, imgUrl){
//			var onclick = function(){
//				map.showBuildingInner(buildingName);
//			};
//
//			var contentNode = document.createElement("div"),
//					textNode = document.createElement("span"),
//					buttonNode = createImgButton(imgUrl, onclick);
//
//			contentNode.style.padding = "1px 5px";
//			contentNode.style.display = "flex";
//			textNode.innerHTML = buildingName + " 事件数:" + eventCount;
//
//			contentNode.appendChild(textNode);
//
//			if(buildingName === "Rectangle03"){
//				contentNode.appendChild(buttonNode);
//			}
//
//			return contentNode;
//		}
//
//		function showBuildingTips(){
//			var event = {"Rectangle03":{"overdue":0,"toDo":0,"urgent":1},"Rectangle04":{"overdue":0,"toDo":1,"urgent":0},"Object07":{"overdue":0,"toDo":1,"urgent":0}};
//
//			var buildingTips = {},
//				urgentStyle = new Z.TextSymbol({
//					fillSymbol: new Z.FillSymbol({bgColor: "#aa0000"}),
//					color: "#ffffff",
//					font: {size: "0.8"}
//				}),
//				todoStyle = new Z.TextSymbol({
//					fillSymbol: new Z.FillSymbol({bgColor: "#6666cc"}),
//					color: "#ffffff",
//					font: new Z.Font({size: "0.8"})
//				}),
//				noneStyle = new Z.TextSymbol({font: new Z.Font({size: "0.8"})});
//
//			for(var key in event){
////				var content = "超期：" + event[key]["overdue"] + "，待办：" + event[key]['toDo'] + "，紧急：" + event[key]['urgent'];
////				buildingTips[key] = content;
//
//				var contentNode = createBuildingTitleContent(map, key, event[key]['toDo'], "../src/cdc/image/yuanjiantouxiao.png");
//				var curStyle = null;
//
//				if(event[key]['overdue'] > 0){
//					curStyle = urgentStyle;
//				}else if(event[key]['urgent'] > 0){
//					curStyle = urgentStyle;
//				}else if(event[key]['toDo'] > 0){
//					curStyle = todoStyle;
//				}else{
//					curStyle = noneStyle;
//				}
//
//				buildingTips[key] = {content: contentNode, symbol: curStyle};
//			}
//
//			if(map.hasLoaded()){
//				map.showBuildingTips(buildingTips);
//			}else{
//				map.on("load", function(){
//					map.showBuildingTips(buildingTips);
//				});
//			}
//		}

//		function createRoomTitleContent(map, buildingName, floorIndex, roomId, roomName, eventCount, imgUrl){
//			var onclick = function(){
//				map.showRoomInner(buildingName, floorIndex, roomId);
//			};
//
//			var contentNode = document.createElement("div"),
//					textNode = document.createElement("span"),
//					buttonNode = createImgButton(imgUrl, onclick);
//
//			contentNode.style.padding = "1px 5px";
//			contentNode.style.display = "flex";
//			textNode.innerHTML = roomName + " 事件数:" + eventCount;
//
//			contentNode.appendChild(textNode);
//
//			//if(buildingName === "Rectangle03"){
//				contentNode.appendChild(buttonNode);
//			//}
//
//			return contentNode;
//		}

		var eventList = [{targetId: '30020500689', instrumentRefId: '30020500689', eventName:'GC-ms故障', roomRefId:'03002050', roomName: 'GC室', floorIndex: 2, buildingRefName: 'Rectangle03', eventStatus: 1, data:{"buildingId":1,"desc":"消防设备过期","finishtime":1495266022000,"floorIndex":1,"grade":5,"handler":"1","handletime":1495352422398,
			"id":10,"inspector":"1","inspecttime":1495266022000,"instrumentName":"血液细胞分析仪","instrumentPrice":210000,"instrumentStatus":1,
			"instrumentType":"1","ipicture":"http://www.gisocn.com/upload/image/201611/20161121135216_31895.jpg","limittime":4,"name":null,
			"orgName":"广东省卫生研究院","orgid":"5","ppicture":"http://www.gisocn.com/upload/image/201611/20161121135216_31895.jpg","presult":"已请公司售后修复",
			"publicday":2,"refname":"Rectangle03","roomId":"1","roomno":"101","status":1,"targetid":"3","type":5,"usefullife":20}},
			{targetId: '30020500687', instrumentRefId: '30020500687', eventName:'GC故障', roomRefId:'03002050', roomName: 'GC室', floorIndex: 2, buildingRefName: 'Rectangle04', eventStatus: 2, data:{"buildingId":2,"desc":"消防设备过期","finishtime":1495179622000,"floorIndex":1,"grade":5,"handler":"3","handletime":1495266022398,"id":9,"inspector":"1",
				"inspecttime":1495179622000,"instrumentName":"原子吸收光谱仪","instrumentPrice":9000,"instrumentStatus":1,"instrumentType":"1",
				"ipicture":"http://www.gisocn.com/upload/image/201611/20161121135216_31895.jpg","limittime":4,"name":null,"orgName":"病原微生物检验所","orgid":"3",
				"ppicture":"http://www.gisocn.com/upload/image/201611/20161121135216_31895.jpg","presult":"已修复","publicday":2,"refname":"Rectangle04",
				"roomId":"2","roomno":"102","status":2,"targetid":"1","type":5,"usefullife":5}}];

		function showBuildingTips(){
			var event = {"Rectangle03":{"overdue":0,"toDo":0,"urgent":1},"Rectangle04":{"overdue":0,"toDo":1,"urgent":0},"Object07":{"overdue":0,"toDo":1,"urgent":0}};

			cdcView.changeEventCount(event);
			cdcView.changeEventList(eventList);
		}

		function showOneEquipment(){
			var eventItem = {targetId: '30020500689', instrumentRefId: '30020500689', eventName:'GC-ms故障', roomRefId:'03002050', roomName: 'GC室', floorIndex: 2, buildingRefName: 'Rectangle03', eventStatus: 1, data:{"buildingId":1,"desc":"消防设备过期","finishtime":1495266022000,"floorIndex":1,"grade":5,"handler":"1","handletime":1495352422398,
				"id":10,"inspector":"1","inspecttime":1495266022000,"instrumentName":"血液细胞分析仪","instrumentPrice":210000,"instrumentStatus":1,
				"instrumentType":"1","ipicture":"http://www.gisocn.com/upload/image/201611/20161121135216_31895.jpg","limittime":4,"name":null,
				"orgName":"广东省卫生研究院","orgid":"5","ppicture":"http://www.gisocn.com/upload/image/201611/20161121135216_31895.jpg","presult":"已请公司售后修复",
				"publicday":2,"refname":"Rectangle03","roomId":"1","roomno":"101","status":1,"targetid":"3","type":5,"usefullife":20}};
			cdcView.selectEventItem(eventItem);
		}

		function showRoomTips(){
//			var roomTips = {},
//				roomSymbols = {},
//				urgentStyle = new Z.TextSymbol({
//					fillSymbol: new Z.FillSymbol({bgColor: "#aa0000"}),
//					color: "#ffffff",
//					font: {size: "0.8"}
//				}),
//				todoStyle = new Z.TextSymbol({
//					fillSymbol: new Z.FillSymbol({bgColor: "#6666cc"}),
//					color: "#ffffff",
//					font: new Z.Font({size: "0.8"})
//				}),
//				noneStyle = new Z.TextSymbol({font: new Z.Font({size: "0.8"})}),
//				urgentSymbol= new Z.ExtrudeSymbol({
//					topColor: "#aa0000",
//					wallColor: "#ffffff",
//					opacity: 0.9
//				}),
//				todoSymbol = new Z.TextSymbol({
//					topColor: "#aaaa00",
//					wallColor: "#f00ff0",
//					opacity: 0.9
//				});
//			var eventCount = {};
//
//			for(var i = 0; i < eventList.length; i++){
//				var curEventItem = eventList[i];
//				var roomId = curEventItem.roomRefId;
//
//				if(!eventCount[roomId]){
//					eventCount[roomId] = {
//						roomName: curEventItem.roomName,
//						totle: 1,
//						status: curEventItem.eventStatus            //事件的紧急程度
//					};
//				}else{
//					eventCount[roomId].totle++;
//				}
//
//				if(curEventItem.eventStatus > eventCount[roomId].status){
//					eventCount[roomId].status = curEventItem.eventStatus;
//				}
//			}
//
//			for(var key in eventCount){
//				var contentNode = createRoomTitleContent(map, "Rectangle03", 1, key, eventCount[key].roomName, eventCount[key].totle, "../src/cdc/image/yuanjiantouxiao.png");
//				var curStyle = null;
//
//				if(eventCount[key].status >= 2){
//					curStyle = urgentStyle;
//					roomSymbols[key] = urgentSymbol;
//				}else if(eventCount[key].status === 1){
//					curStyle = urgentStyle;
//					roomSymbols[key] = urgentSymbol;
//				}else if(eventCount[key].status === 0 && eventCount[key].total > 0){
//					curStyle = todoStyle;
//					roomSymbols[key] = todoSymbol;
//				}else{
//					curStyle = noneStyle;
//				}
//
//				roomTips[key] = {content: contentNode, symbol: curStyle};
//			}
//
//			map.showRoomTips("Rectangle03", 1, roomTips, {}, function(){map.updateRoomSymbols(roomSymbols);});
//			//map.updateRoomSymbols(roomSymbols);
			//cdcView.changeEventCount(event);
		}

		function showEquipmentTips(){
			var equipmentTips = {},
					equipmentSymbols = {},
					urgentStyle = new Z.TextSymbol({
						fillSymbol: new Z.FillSymbol({bgColor: "#aa0000"}),
						color: "#ffffff",
						font: {size: "0.8"}
					}),
					todoStyle = new Z.TextSymbol({
						fillSymbol: new Z.FillSymbol({bgColor: "#6666cc"}),
						color: "#ffffff",
						font: new Z.Font({size: "0.8"})
					}),
					noneStyle = new Z.TextSymbol({font: new Z.Font({size: "0.8"})}),
					urgentSymbol= new Z.ExtrudeSymbol({
						topColor: "#aa0000",
						wallColor: "#ffffff",
						opacity: 0.9
					}),
					todoSymbol = new Z.TextSymbol({
						topColor: "#aaaa00",
						wallColor: "#f00ff0",
						opacity: 0.9
					});
//			var eventCount = {};
//
//			for(var i = 0; i < event.length; i++){
//				var curEventItem = event[i];
//				var roomId = curEventItem.roomRefId;
//
//				if(!eventCount[roomId]){
//					eventCount[roomId] = {
//						roomName: curEventItem.roomName,
//						totle: 1,
//						status: curEventItem.eventStatus            //事件的紧急程度
//					};
//				}else{
//					eventCount[roomId].totle++;
//				}
//
//				if(curEventItem.eventStatus > eventCount[roomId].status){
//					eventCount[roomId].status = curEventItem.eventStatus;
//				}
//			}
//
//			for(var key in eventCount){
//				var contentNode = createRoomTitleContent(map, key, eventCount[key].roomName, eventCount[key].totle, "../src/cdc/image/yuanjiantouxiao.png");
			for(var key in eventList){
				var contentNode = eventList[key].eventName;
				var curStyle = null;

				if(eventList[key].eventStatus >= 2){
					curStyle = urgentStyle;
					equipmentSymbols[key] = urgentSymbol;
				}else if(eventList[key].eventStatus === 1){
					curStyle = urgentStyle;
					equipmentSymbols[key] = urgentSymbol;
				}else if(eventList[key].eventStatus === 0){
					curStyle = todoStyle;
					equipmentSymbols[key] = todoSymbol;
				}else{
					curStyle = noneStyle;
				}

				var itemKey = eventList[key].roomRefId + "_" + eventList[key].targetId;
				equipmentTips[itemKey] = {content: contentNode, symbol: curStyle};
			}

			map.showEquipmentTips("Rectangle03", 1, "03002050", equipmentTips, {}, function(){map.updateEquipmentSymbols(equipmentSymbols);});
//			map.updateEquipmentSymbols(equipmentSymbols);
		}

//		var buildingLayer;
//		function loadBuildings() {
//			//var modelUrl = "data/cdc_outdoor/cdcoutdoor1";
//			var modelUrl = "data/cdc_outdoor_merge/outdoor";
//
//			if(!buildingLayer){
//				buildingLayer = new Z.ThreeDMaxModelLayer({
//					enableTip: true,
//					//enableTitle: true,
//					enableInfoWindow: true,
//					infoWindowOptions: {
//						width: 300
//					}
//				});
//				map.addLayer(buildingLayer);
//
//				buildingLayer.on("modelLoaded", function(e){
//					var floorPanel = document.getElementById("floorContainer");
//
//					if(floorPanel){
//						floorPanel.style.display = "block";
//					}
//
////					var floorIndexes = buildingLayer.getFloorIndexes();
////					createFloorsPanel(floorIndexes);
//
//					var componentTypes = buildingLayer.getComponentTypes();
//					createComponentsPanel(componentTypes);
//
//					changeFloorSelect();
//				});
//			}
//
//			var transformation = new Z.Transformation();
//			//transformation.doScale(0.00000001, 0.000000009, 0.001);
//			transformation.doScale(0.0000030, 0.0000030, 0.5);
//			transformation.doRotation(0, 0, Math.PI * 21 / 180);
//			//transformation.doRotation(0, 0, 0);
//			//transformation.doTranslation(118.7123, 32.01396, 0);
//			transformation.doTranslation(114.264451, 30.582994, 0);
//			buildingLayer.showModel(modelUrl, transformation);
//
//			//var geom = new Z.LatLng(32.01126, 118.71576, 0);
//			//var geom = new Z.LatLng(30.584284, 114.263871, 0);
//			var geom = new Z.LatLng(30.582994, 114.264451, 0);
//			map.panTo(geom);
//		}
//
//		function createFloorsPanel(floorIndexes){
//			var containerElement = document.getElementById("floorMenu");
//			containerElement.innerHTML = "";
//			var isFirst = true;
//
//			//for(var key in floorIndexes){
//			for(var i = 0; i < floorIndexes.length; i++){
//				var key = floorIndexes[i];
//				var element = createCheckBox(containerElement, "floorGroup", key);
//				element.floorIndex = key;
//				element.onclick = function(){
//					changeFloorSelect();
//				};
//			}
//		}
//
//		function createComponentsPanel(componentTypes){
//			var elementContainerElement = document.getElementById("elementContainer");
//			elementContainerElement.innerHTML = "";
//
//			for(var k in componentTypes){
//				var elementNode = createCheckBox(elementContainerElement, "elementGroup", componentTypes[k] || k);
//				elementNode.checked = true;
//				elementNode.elementType = componentTypes[k];
//				elementNode.onclick = function(){
//					changeFloorSelect();
//				};
//			}
//		}
//
//		function createCheckBox(containerNode, name, text){
//			var element = document.createElement("input");
//			element.type="checkbox";
//			element.name=name;
//			containerNode.appendChild(element);
//			containerNode.appendChild(document.createTextNode(text));
//			containerNode.appendChild(document.createElement("br"));
//
//			return element;
//		}
//
//		function changeFloorSelect(){
//			var elementCheckBoxes = document.getElementsByName("elementGroup"),
//					elementTypes = [];
//
//			for(var j = 0; j < elementCheckBoxes.length; j++){
//				if(elementCheckBoxes[j].checked){
//					//elementTypes[elementCheckBoxes[j].elementType] = "1";
//					elementTypes.push(elementCheckBoxes[j].elementType);
//				}
//			}
//
//			//buildingLayer.showFloors(floorIndexes, elementTypes);
//			buildingLayer.showComponents(elementTypes);
//		}
	</script>
</head>
<body onload="load()">
	<!--<input type="button" value="addNewObject" onclick="addNewObject()">-->
	<input type="button" value="重置相机位置" onclick="reset()">
	<input type="button" value="旋转x+" onclick="x_add()">
	<input type="button" value="旋转x-" onclick="x_sub()">
	<!--<input type="button" value="旋转y+" onclick="y_add()">-->
	<!--<input type="button" value="旋转y-" onclick="y_sub()">-->
	<input type="button" value="旋转z+" onclick="z_add()">
	<input type="button" value="旋转z-" onclick="z_sub()">
	<!--<input type="button" value="移动x+" onclick="x_pan_add()">-->
	<!--<input type="button" value="移动x-" onclick="x_pan_sub()">-->
	<!--<input type="button" value="移动y+" onclick="y_pan_add()">-->
	<!--<input type="button" value="移动y-" onclick="y_pan_sub()">-->
	<!--<input type="button" value="移动z+" onclick="z_pan_add()">-->
	<!--<input type="button" value="移动z-" onclick="z_pan_sub()">-->
	<!--<input type="button" value="太阳上升" onclick="sun_up()">-->
	<!--<input type="button" value="太阳下落" onclick="sun_down()">-->
	<input type="button" value="放大" onclick="zoomIn()">
	<input type="button" value="缩小" onclick="zoomOut()">
	<br>
	<input type="button" value="添加天地图矢量底图" onclick="addVectorLayer()">
	<input type="button" value="添加天地图矢量注记" onclick="addVectorAnnoLayer()">
	<input type="button" value="添加天地图影像底图" onclick="addRasterLayer()">
	<input type="button" value="添加天地图影像注记" onclick="addRasterAnnoLayer()">
	<input type="button" value="移除天地图矢量底图" onclick="removeVectorLayer()">
	<input type="button" value="移除天地图矢量注记" onclick="removeVectorAnnoLayer()">
	<input type="button" value="移除天地图影像底图" onclick="removeRasterLayer()">
	<input type="button" value="移除天地图影像注记" onclick="removeRasterAnnoLayer()">
	<br>
	<input type="button" value="显示室内（实验楼）" onclick="showInner()">
	<input type="button" value="显示外轮廓（实验楼）" onclick="showHull()">
	<input type="button" value="选择（实验楼）" onclick="selectBuilding1()">
	<input type="button" value="选择（非实验楼）" onclick="selectBuilding2()">
	<input type="button" value="汇总建筑事件" onclick="showBuildingTips()">
	<input type="button" value="显示房间事件" onclick="showRoomTips()">
	<input type="button" value="显示仪器事件" onclick="showEquipmentTips()">
	<input type="button" value="显示单个事件" onclick="showOneEquipment()">
	<br>
	<div id="map" style="width: 1000px; height: 500px;z-index:1"></div>
	<div id="mapTileContent"></div>
	<br><span id="aaa"></span>
	<!--<br><span id="bbb"></span><br>-->

	<div id="floorContainer" style="position: absolute; top: 100px; right: 10px; width: 180px; height: 600px; padding: 5px;
	display: none; opacity: 0.6; background-color: brown; border-width: thin; border-color: #000000; border-style: solid;z-index:2;overflow:auto">
		<p>选择楼层:</p>
		<ul id="floorMenu"></ul>
		<br>
		<p>选择待查看建筑构件:</p>
		<div id="elementContainer"></div>
	</div>

	<div id="loadingTag" style="position: absolute; top: 300px; left: 300px; width: 250px; height: 20px; padding: 5px;
	display: none; opacity: 0.6; background-color: #aaaaaa; border-width: thin; border-color: #ffffff; border-style: solid;z-index:100">
		<span id="loadingStatus"></span>
	</div>

	<div id="alertTag" style="position: absolute; top: 300px; left: 300px; width: 250px; height: 20px; padding: 15px;
	display: none; opacity: 0.6; background-color: #aaaaaa; border-width: thin; border-color: #000000; border-style: solid; z-index:101">
		<span id="alertStatus"></span>
	</div>
</body>
</html>